# ========================================
# IMB Generator - Environment Configuration
# ========================================

# Address Validation API Configuration
# PRIMARY: SmartyStreets (recommended for reliability and batch processing)
API_PROVIDER=smartystreets

# ========================================
# SmartyStreets API (Recommended)
# ========================================
# Register at: https://www.smartystreets.com/
# Best for: Production use, reliable, high rate limits
# Pricing: Free 250/month, then $20-$1000/month based on volume
# Provides: DPV, ZIP+4, delivery point, carrier route, LACSLink, vacancy, lat/long
# Rate Limits: High (1000+ req/sec on paid plans, no throttling needed)
# Features: CASS certified, 55+ data points, excellent batch support
SMARTYSTREETS_AUTH_ID=your_auth_id_here
SMARTYSTREETS_AUTH_TOKEN=your_auth_token_here


# ========================================
# USPS Official API (Legacy - Not Recommended)
# ========================================
# NOTE: USPS OAuth API has strict rate limits and frequent quota issues
# Only use if SmartyStreets is not available
# Register at: https://developer.usps.com/
# Provides: DPV, ZIP+4, delivery point, carrier route
# Rate Limits: Very strict (~10-20 req/sec, frequent 429 errors)
# USPS_CLIENT_ID=your_usps_client_id_here
# USPS_CLIENT_SECRET=your_usps_client_secret_here


# ========================================
# Google Address Validation API (Budget)
# ========================================
# Setup: https://console.cloud.google.com/
# Enable: Address Validation API in Google Cloud Console
# Best for: Budget-conscious users, good free tier
# Pricing: $200 free/month (~12,000 addresses), then $17/1,000
# Provides: CASS certified, ZIP+4, delivery point (via USPS data)
GOOGLE_MAPS_API_KEY=your_google_api_key_here


# ========================================
# Flask Configuration
# ========================================
# Generate secret key with: python -c "import secrets; print(secrets.token_hex(32))"
FLASK_SECRET_KEY=your_secret_key_here_generate_with_secrets_token_hex

# Maximum upload file size in bytes (default: 100MB)
MAX_UPLOAD_SIZE=104857600

# Upload folder for file storage
# Local: uploads (default)
# Railway: /app/data (mount Railway Volume at /data -> /app/data)
UPLOAD_FOLDER=uploads


# ========================================
# Multi-API Fallback Configuration
# ========================================
# For high-volume processing (thousands of records)
# Enable automatic fallback to secondary provider for 99.9% reliability

# Enable multi-API fallback (true/false)
ENABLE_MULTI_API_FALLBACK=false

# Primary provider (used first)
PRIMARY_API_PROVIDER=smartystreets

# Fallback provider (used if primary fails)
FALLBACK_API_PROVIDER=google

# Recommended Strategy for High-Volume:
# - Primary: smartystreets (unlimited plan $1000/month)
# - Fallback: google ($200 free tier + $17/1000)
# - Result: 99.9% success rate, ~$1000-1200/month


# ========================================
# API Comparison Summary
# ========================================
#
# USPS Official:
#   ‚úÖ FREE (unlimited)
#   ‚úÖ Most authoritative source
#   ‚úÖ All IMB data included
#   ‚ö†Ô∏è Must be used for mailing/shipping only
#
# SmartyStreets:
#   ‚úÖ Industry-leading accuracy
#   ‚úÖ 55+ data points
#   ‚úÖ No usage restrictions
#   üí∞ $20-$1000/month
#
# Google:
#   ‚úÖ CASS certified
#   ‚úÖ Generous free tier
#   ‚úÖ Good for non-mailing use
#   üí∞ $17/1,000 after free tier
#
